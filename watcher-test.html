<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation</title>
    <style>
    		.ff-banner-wrapper {
        	background: linear-gradient(99.92deg, #DE781F -56.36%, #40231A 33.21%);
        }
        /* ========================= DESKTOP MEGA ========================= */
        .ff-nav__link p {
            pointer-events: none;
        }

        /* Nav link hover/focus */
        .ff-nav__link {
            transition: background-color 0.3s ease-out;
        }

        .ff-nav__link:hover,
        .ff-nav__link:focus-visible,
        .ff-nav__link[aria-expanded="true"] {
            background-color: rgba(60, 59, 58, 0.07);
        }

        /* Caret flip on hover/active */
        .ff-nav__item-caret {
            pointer-events: none;
            width: 14px !important;
            height: 14px !important;
            display: inline-block !important;
        }

        /* Fix SVG embed container bounding box */
        .w-embed:has(svg.ff-arrow-morph) {
            width: 14px !important;
            height: 14px !important;
            display: block !important;
        }

        svg.ff-arrow-morph {
            display: block !important;
        }

        /* Caret morphing handled by ff-caret-morph SVG rotation + fill animation */
        svg.ff-caret-morph {
            transition: transform 0.3s ease-out, fill 0.3s ease-out;
        }

        /* Popular item hover arrow */
        .ff-mega__popular-title {
            display: inline-flex;
            align-items: center;
        }

        .ff-mega__popular-title::after {
            content: '';
            width: 14px;
            height: 14px;
            margin-left: 4px;
            opacity: 0;
            transition: opacity 0.2s ease-out;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14'%3E%3Cpath d='M5 2.5 9.5 7 5 11.5' stroke='%2391908F' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") no-repeat center;
        }

        .ff-mega__popular-item:hover .ff-mega__popular-title::after,
        .ff-mega__popular-item:focus-visible .ff-mega__popular-title::after {
            opacity: 1;
        }

        .ff-mega__popular-sub {
            transition: color 0.2s ease-out;
        }

        .ff-mega__popular-item:hover .ff-mega__popular-sub,
        .ff-mega__popular-item:focus-visible .ff-mega__popular-sub {
            color: #31302F;
        }

        /* Mega link hover arrow */
        .ff-mega__link {
            display: inline-flex;
            align-items: center;
        }

        .ff-mega__link::after {
            content: '';
            width: 14px;
            height: 14px;
            margin-left: 4px;
            opacity: 0;
            transition: opacity 0.2s ease-out;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14'%3E%3Cpath d='M5 2.5 9.5 7 5 11.5' stroke='%2391908F' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") no-repeat center;
        }

        .ff-mega__link:hover::after,
        .ff-mega__link:focus-visible::after {
            opacity: 1;
        }

        .ff-nav-container.ff-nav-container--animated {
            -webkit-backdrop-filter: blur(50px);
            backdrop-filter: blur(50px);
            background-color: #fffc;
        }

        body.ff-nav-mobile-open .ff-nav-container {
            background-color: #fff;
        }

        /* Swap hamburger/close icons when mobile nav is open */
        .ff-nav__toggle__close-img {
            opacity: 0;
        }

        body.ff-nav-mobile-open .ff-nav__toggle__open-img {
            opacity: 0;
        }

        body.ff-nav-mobile-open .ff-nav__toggle__close-img {
            opacity: 1;
        }

        @media (min-width: 992px) {
            .ff-nav-container.ff-nav-container--animated {
                border-radius: 16px;
                transition: height 220ms ease-out;
                will-change: height;
            }

            #ff-mega {
                overflow: hidden;
            }
        }

        /* Tablet breakpoint tweaks (992px - 1024px) */
        @media (min-width: 992px) and (max-width: 1024px) {
            .ff-mega__col--popular {
                max-width: 220px;
            }

            .ff-mega__popular-item {
                min-width: 196px !important;
            }

            .ff-mega__popular-sub {
                display: block;
                max-width: 130px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
        }

        #ff-mega .ff-mega__panel {
            display: none;
            opacity: 0;
            transition: opacity 350ms ease-out 80ms;
            will-change: opacity;
        }

        #ff-mega .ff-mega__panel.ff-mega__panel--active {
            display: block;
        }

        #ff-mega .ff-mega__panel.ff-mega__panel--active.ff-mega__panel--visible {
            opacity: 1;
        }

        #ff-mega .ff-mega__cta {
            display: none;
            opacity: 0;
            transition: opacity 280ms ease-out;
        }

        #ff-mega .ff-mega__cta.ff-mega__cta--active {
            display: flex;
        }

        #ff-mega .ff-mega__cta.ff-mega__cta--active.ff-mega__cta--visible {
            opacity: 1;
        }

        /* ========================= MOBILE NAV (OUTSIDE SHELL) + CHROME BEHAVIOR ========================= */
        @media (min-width: 992px) {
            [data-nav-mobile] {
                display: none !important;
            }
        }

        @media (max-width: 991px) {
            .ff-nav-container {
                position: relative;
                z-index: 2;
            }

            [data-nav-mobile]{
                display: none;
                --ff-nav-mobile-chrome-h: 56px;
            }

            [data-nav-mobile].ff-nav-mobile--open{
                display: block;
                position: absolute;
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                height: 100vh;
                z-index: 1;
                background: rgba(0,0,0,0.5);
            }

            .ff-nav-mobile__track{
                position: absolute;
                top: var(--ff-nav-mobile-chrome-h);
                left: 0;
                right: 0;
                bottom: 0;
                width: 100%;
                background: #fff;
                overflow: hidden;
            }

            /* ---------- Floating chrome (ONLY on layer 2+) ---------- */
            .ff-nav-mobile__chrome{
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: var(--ff-nav-mobile-chrome-h);
                background: #fff;
                z-index: 10;
                display: none;
            }

            /* Remove border-top from first section in any panel */
            .ff-nav-mobile__panel .ff-nav-mobile__section:first-child {
                border-top: none;
            }

            [data-nav-mobile].ff-nav-mobile--chrome-on .ff-nav-mobile__chrome{
                display: block;
            }

            [data-nav-mobile].ff-nav-mobile--chrome-on{
                z-index: 3;
            }

            /* Layout matches your actual markup: [back link] [title div] [close link] */
            .ff-nav-mobile__chrome-inner{
                height: 100%;
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 0 16px;
            }

            .ff-nav-mobile__chrome-left{
                display: flex;
                align-items: center;
                justify-content: center;
                width: 44px;
                height: 44px;
                margin-left: -8px;
                text-decoration: none;
            }

            .ff-nav-mobile__chrome-back-icon{
                width: 20px;
                height: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .ff-nav-mobile__chrome-back-icon img{
                width: 20px;
                height: 20px;
                display: block;
            }

            .ff-nav-mobile__chrome-title{
                flex: 1 1 auto;
                font-size: 18px;
                font-weight: 500;
                line-height: 1;
                color: #111;
                text-align: left;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                padding-right: 8px;
            }

            .ff-nav-mobile__chrome-close{
                width: 44px;
                height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-right: -8px;
                text-decoration: none;
            }

            .ff-nav-mobile__chrome-close img{
                width: 20px;
                height: 20px;
                display: block;
            }

            /* Panels stack + fade */
            .ff-nav-mobile__panel{
                position: absolute;
                inset: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                transform: translateX(0);
                pointer-events: none;
                transition: opacity 200ms ease-out, transform 200ms ease-out;
                will-change: opacity, transform;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                background: transparent;
                padding-top: 0;
                padding-bottom: 112px;
                z-index: 1;
            }

            /* When chrome is on, hide any in-panel headers so spacing is clean */
            [data-nav-mobile].ff-nav-mobile--chrome-on .ff-nav-mobile__header{
                display: none !important;
            }

            .ff-nav-mobile__panel.ff-nav-mobile__panel--active{
                opacity: 1;
                pointer-events: auto;
                z-index: 2;
            }

            /* Directional slide classes */
            .ff-nav-mobile__panel--enter-right {
                opacity: 1;
                transform: translateX(50%);
                z-index: 2;
            }

            .ff-nav-mobile__panel--enter-left {
                opacity: 1;
                transform: translateX(-50%);
                z-index: 2;
            }

            .ff-nav-mobile__panel--exit-left {
                transform: translateX(-50%);
            }

            .ff-nav-mobile__panel--exit-right {
                transform: translateX(50%);
            }

            @media (prefers-reduced-motion: reduce) {
                .ff-nav-mobile__panel {
                    transition: opacity 200ms ease-out;
                    transform: translateX(0) !important;
                }

                .ff-nav-mobile__panel--enter-right,
                .ff-nav-mobile__panel--enter-left,
                .ff-nav-mobile__panel--exit-right,
                .ff-nav-mobile__panel--exit-left {
                    transform: translateX(0) !important;
                }
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .ff-nav-container.ff-nav-container--animated {
                transition: none;
            }
            #ff-mega .ff-mega__panel {
                transition: none;
            }
        }

        body.ff-nav-mobile-open {
            overflow: hidden;
        }
    </style>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('%c[NAV]%c 8286186 | FIX: opacity:1 on enter classes for visible slide animation', 'color: #4CAF50; font-weight: bold', 'color: inherit');

            // Fix SVG bounding box - force containers to 14x14
            const fixSVGBoundingBox = () => {
                const svgs = document.querySelectorAll('svg.ff-arrow-morph');
                svgs.forEach(svg => {
                    const embed = svg.parentElement;
                    const caret = embed?.parentElement;
                    if (embed) {
                        embed.style.setProperty('width', '14px', 'important');
                        embed.style.setProperty('height', '14px', 'important');
                        embed.style.setProperty('display', 'block', 'important');
                    }
                    if (caret) {
                        caret.style.setProperty('width', '14px', 'important');
                        caret.style.setProperty('height', '14px', 'important');
                        caret.style.setProperty('display', 'inline-block', 'important');
                    }
                });
            };
            fixSVGBoundingBox();
            // Also run after a delay to catch dynamically loaded SVGs
            setTimeout(fixSVGBoundingBox, 1000);

            const mqMobile = window.matchMedia('(max-width: 991px)');
            
            /* ========================= DESKTOP MEGA ========================= */
            (function initDesktopMega() {
                const shell = document.querySelector('.ff-nav-container');
                const navBar = shell?.querySelector('.ff-nav__bar');
                const mega = document.getElementById('ff-mega');
                if (!shell || !navBar || !mega) return;

                const panels = new Map();
                mega.querySelectorAll('[data-menu-panel]').forEach(p => panels.set(p.dataset.menuPanel, p));

                const ctas = new Map();
                mega.querySelectorAll('[data-menu-cta]').forEach(c => ctas.set(c.dataset.menuCta, c));

                const triggers = document.querySelectorAll('.ff-nav__links [data-menu-trigger]');
                if (!panels.size || !triggers.length) return;

                const EXTRA_PAD = 24;
                const CLOSE_DELAY = 150;

                let activeKey = null;
                let closeTimer = null;

                function setHeight(key) {
                    const navH = navBar.offsetHeight;
                    const panelH = panels.get(key)?.offsetHeight || 0;
                    const ctaH = ctas.get(key)?.offsetHeight || 0;
                    shell.style.height = (navH + panelH + ctaH + (key ? EXTRA_PAD : 0)) + 'px';
                }

                function updateTrigger(trigger, targetKey) {
                    const shouldExpand = trigger.dataset.menuTrigger === targetKey;
                    const isCurrentlyExpanded = trigger.getAttribute('aria-expanded') === 'true';

                    // Only update aria-expanded if state changed
                    if (isCurrentlyExpanded !== shouldExpand) {
                        trigger.setAttribute('aria-expanded', shouldExpand);
                    }

                    // Update caret state
                    const svg = trigger.querySelector('svg.ff-caret-morph');
                    if (svg) svg.classList.toggle('active', shouldExpand);
                }

                function open(key) {
                    if (activeKey === key) return;
                    activeKey = key;
                    // Defer heavy DOM work to next frame to prevent blocking CSS transitions
                    requestAnimationFrame(() => {
                        // Activate/deactivate panels and CTAs
                        panels.forEach((p, k) => {
                            p.classList.toggle('ff-mega__panel--active', k === key);
                            p.classList.remove('ff-mega__panel--visible');
                        });
                        ctas.forEach((c, k) => {
                            c.classList.toggle('ff-mega__cta--active', k === key);
                            c.classList.remove('ff-mega__cta--visible');
                        });

                        // Update all trigger states
                        triggers.forEach(t => updateTrigger(t, key));

                        // Update container and calculate height
                        shell.classList.add('ff-nav-container--open');
                        setHeight(key);

                        // Wait another tick for display to apply, then fade in
                        requestAnimationFrame(() => {
                            panels.get(key)?.classList.add('ff-mega__panel--visible');
                            ctas.get(key)?.classList.add('ff-mega__cta--visible');
                        });
                    });
                    // Close search
                    document.dispatchEvent(new CustomEvent('quick-search:close'));
                }

                function close() {
                    if (!activeKey) return;
                    activeKey = null;
                    // Defer heavy DOM work to next frame
                    requestAnimationFrame(() => {
                        // Deactivate everything
                        shell.classList.remove('ff-nav-container--open');
                        setHeight(null);
                        panels.forEach(p => p.classList.remove('ff-mega__panel--visible', 'ff-mega__panel--active'));
                        ctas.forEach(c => c.classList.remove('ff-mega__cta--visible', 'ff-mega__cta--active'));

                        // Reset all trigger states
                        triggers.forEach(t => updateTrigger(t, null));
                    });
                }

                // Initialize
                shell.classList.add('ff-nav-container--animated');
                setHeight(null);

                // Event handlers
                triggers.forEach(t => {
                    t.addEventListener('mouseenter', () => {
                        clearTimeout(closeTimer);
                        open(t.dataset.menuTrigger);
                    });
                });

                shell.addEventListener('mouseleave', () => {
                    clearTimeout(closeTimer);
                    closeTimer = setTimeout(close, CLOSE_DELAY);
                });

                shell.addEventListener('mouseenter', () => clearTimeout(closeTimer));
            })();

            /* ========================= MOBILE NAV (STACK + FADE) + CHROME (LAYER 2+ ONLY) ========================= */
            (function initMobileNav(){
                const mobileRoot = document.querySelector('[data-nav-mobile]');
                const toggleBtn = document.querySelector('[data-nav-toggle]');
                const toggleSearch = document.querySelector('[data-search-toggle]');
                if (!mobileRoot || !toggleBtn) return;

                const panels = Array.from(mobileRoot.querySelectorAll('[data-mobile-panel]'));
                if (!panels.length) return;

                const panelByKey = new Map();
                panels.forEach(p => panelByKey.set(p.getAttribute('data-mobile-panel'), p));

                const chromeTitleEl = mobileRoot.querySelector('[data-mobile-chrome-title]');

                let isOpen = false;
                let currentKey = 'root';
                let lastFocus = null;

                function syncChrome(){
                    const isSub = currentKey !== 'root';
                    mobileRoot.classList.toggle('ff-nav-mobile--chrome-on', isSub);
                    if (chromeTitleEl) chromeTitleEl.textContent = isSub ? (panelByKey.get(currentKey)?.dataset.panelTitle?.trim() || '') : '';
                }

                function setAria() {
                    toggleBtn.setAttribute('aria-expanded', String(isOpen));
                    toggleBtn.setAttribute('aria-label', isOpen ? 'Close primary navigation' : 'Open primary navigation');
                }

                function setActive(key, direction = null) {
                    const prev = panelByKey.get(currentKey);
                    const next = panelByKey.get(key) || panelByKey.get('root');

                    if (!next) return;

                    // Skip if already on this panel AND it already has the active class
                    if (currentKey === key && next.classList.contains('ff-nav-mobile__panel--active')) return;

                    currentKey = key;

                    // If no direction specified, simple opacity fade (e.g., initial open)
                    if (!direction) {
                        panels.forEach(p => p.classList.remove('ff-nav-mobile__panel--active'));
                        if (next) next.classList.add('ff-nav-mobile__panel--active');
                        syncChrome();
                        return;
                    }

                    // Two-phase slide + fade transition
                    requestAnimationFrame(() => {
                        // Phase 1: Set up initial states
                        // Remove active from all panels
                        panels.forEach(p => p.classList.remove('ff-nav-mobile__panel--active'));

                        // Remove any leftover directional classes
                        panels.forEach(p => {
                            p.classList.remove(
                                'ff-nav-mobile__panel--enter-right',
                                'ff-nav-mobile__panel--enter-left',
                                'ff-nav-mobile__panel--exit-right',
                                'ff-nav-mobile__panel--exit-left'
                            );
                        });

                        // Position new panel at starting position based on direction
                        if (direction === 'forward') {
                            next.classList.add('ff-nav-mobile__panel--enter-right');
                            console.log('[NAV-DEBUG] Phase 1: Added enter-right to', key);
                        } else if (direction === 'backward') {
                            next.classList.add('ff-nav-mobile__panel--enter-left');
                            console.log('[NAV-DEBUG] Phase 1: Added enter-left to', key);
                        }

                        // Phase 2: Trigger transition on next frame
                        requestAnimationFrame(() => {
                            // Activate new panel (triggers slide to center + fade in)
                            next.classList.add('ff-nav-mobile__panel--active');
                            console.log('[NAV-DEBUG] Phase 2: Added active to', key);

                            // Remove directional classes to trigger slide
                            // The active class will bring it to translateX(0)
                            next.classList.remove('ff-nav-mobile__panel--enter-right', 'ff-nav-mobile__panel--enter-left');
                            console.log('[NAV-DEBUG] Phase 2: Removed directional classes from', key);
                        });
                    });

                    syncChrome();
                }

                function openMenu() {
                    if (!mqMobile.matches) return;
                    lastFocus = document.activeElement;
                    isOpen = true;
                    mobileRoot.classList.add('ff-nav-mobile--open');
                    document.body.classList.add('ff-nav-mobile-open');
                    setActive('root');
                    setAria();
                    requestAnimationFrame(() => {
                        const active = panelByKey.get('root');
                        const focusable = active && active.querySelector('a, button, [tabindex]:not([tabindex="-1"])');
                        if (focusable) focusable.focus();
                    });
                }

                function closeMenu() {
                    isOpen = false;
                    mobileRoot.classList.remove('ff-nav-mobile--open', 'ff-nav-mobile--chrome-on');
                    document.body.classList.remove('ff-nav-mobile-open');
                    panels.forEach(p => p.classList.remove('ff-nav-mobile__panel--active'));
                    setAria();
                    if (lastFocus?.focus) lastFocus.focus();
                }

                function goTo(key) {
                    if (!mqMobile.matches) return;
                    if (!panelByKey.has(key)) return;
                    setActive(key, 'forward');
                }

                function goBack() {
                    if (!mqMobile.matches) return;
                    const panel = panelByKey.get(currentKey);
                    const parent = panel?.dataset.panelParent || 'root';
                    setActive(parent, 'backward');
                }

                closeMenu();
                toggleBtn.addEventListener('click', (e) => {
                    if (!mqMobile.matches) return;
                    e.preventDefault();
                    isOpen ? closeMenu() : openMenu();
                });
                
                if (toggleSearch) {
                    toggleSearch.addEventListener('click', (e) => {
                        if (!mqMobile.matches) return;
                        e.preventDefault();
                        openMenu();
                        // Open search
                        document.dispatchEvent(new CustomEvent('quick-search:open'))
                    });
                }

                mobileRoot.addEventListener('click', (e) => {
                    if (!mqMobile.matches) return;
                    if (!isOpen) return;

                    // Click on backdrop closes menu
                    if (e.target === mobileRoot) {
                        closeMenu();
                        return;
                    }

                    // Handle link clicks
                    const link = e.target.closest('a');
                    if (!link) return;

                    if (link.hasAttribute('data-mobile-chrome-close')) {
                        e.preventDefault();
                        closeMenu();
                        return;
                    }
                    if (link.hasAttribute('data-mobile-chrome-back')) {
                        e.preventDefault();
                        goBack();
                        return;
                    }
                    const to = link.getAttribute('data-mobile-target');
                    if (to) {
                        e.preventDefault();
                        goTo(to);
                        return;
                    }
                    const href = link.getAttribute('href') || '';
                    const isHashOnly = href === '#' || href.startsWith('#');
                    if (isHashOnly) e.preventDefault();
                    else closeMenu();
                });

                document.addEventListener('keydown', (e) => {
                    if (!mqMobile.matches) return;
                    if (!isOpen) return;
                    if (e.key === 'Escape') closeMenu();
                });

                mqMobile.addEventListener('change', (e) => {
                    if (!e.matches && isOpen) closeMenu();
                });

                setAria();
            })();
        });

        // If DOM is already loaded (e.g., script injected after page load), run immediately
        if (document.readyState !== 'loading') {
            const event = new Event('DOMContentLoaded');
            document.dispatchEvent(event);
        }
    </script>
</body>
</html>